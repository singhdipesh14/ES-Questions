	AREA RESET, CODE, READONLY
		EXPORT __Vectors
__Vectors
	DCD 0x10001000
	DCD Reset_Handler
	
	AREA myCode, CODE, READONLY
	ENTRY
	EXPORT Reset_Handler
Reset_Handler
LEFT RN R1
RIGHT RN R2
MID RN R3
	LDR R0, =SRC
	LDR R4, =KEYL
	LDR R4, [R4]
KEY RN R4
	MOV LEFT, #0
	MOV RIGHT, #9
	MOV R12, #10
UP	CMP RIGHT, LEFT
	BCC EXI
	CMP R12, #0
	BEQ EXI
	ADD MID, LEFT, RIGHT
	LSR MID, #1
	BL DO
	LDR R5, [R0, R8]
	LSR R12, #1
	CMP R5, KEY
	BEQ FOU
	BHI LES
	BCC MOR
FOU MOV R7, MID
	MOV R6, #1
	B EXI
LES	MOV RIGHT, MID
	SUB RIGHT, #1
	B UP
MOR MOV LEFT, MID
	ADD LEFT, #1
	B UP
EXI LDR R0, =DST
	STRB R6, [R0], #1
	STRB R7, [R0]
	
	
STOP B STOP
DO  MOV R8, MID
	MOV R9, #4
	MUL R8, R9
	BX LR
SRC	DCD 1, 1, 2, 2, 3, 4, 5, 6, 7, 8
KEYL DCD 5
	AREA MYDATA, DATA, READWRITE
DST DCD 0
	END